{% extends "base.html" %}

{% block title %}{{ title }}{% endblock %}

{% block content %}
<!-- Section 1: Contact Hero -->
<section class="bg-gradient-to-r from-qubix-dark to-qubix-blue text-white py-16">
    <div class="container mx-auto px-4">
        <div class="max-w-4xl mx-auto text-center">
            <h1 class="text-4xl md:text-5xl font-bold mb-6">Contact Qubix Events</h1>
            <p class="text-xl mb-8 text-gray-100">
                Ready to plan your next event? Get in touch with our expert team for a personalized consultation and quote.
            </p>
            <div class="grid grid-cols-1 md:grid-cols-3 gap-6 mt-12">
                <div class="flex items-center justify-center">
                    <i class="fas fa-phone text-2xl mr-3"></i>
                    <div>
                        <p class="font-semibold">Call Us</p>
                        <p class="text-gray-200">+91-98993-39005</p>
                    </div>
                </div>
                <div class="flex items-center justify-center">
                    <i class="fas fa-envelope text-2xl mr-3"></i>
                    <div>
                        <p class="font-semibold">Email Us</p>
                        <p class="text-gray-200">{{ contact_email }}</p>
                    </div>
                </div>
                <div class="flex items-center justify-center">
                    <i class="fas fa-map-marker-alt text-2xl mr-3"></i>
                    <div>
                        <p class="font-semibold">Visit Us</p>
                        <p class="text-gray-200">Delhi | Kolkata | Bangalore</p>
                    </div>
                </div>
            </div>
        </div>
    </div>
</section>

<!-- Section 2: Contact Form & Info -->
<section class="py-16 bg-white">
    <div class="container mx-auto px-4">
        <div class="grid grid-cols-1 lg:grid-cols-2 gap-12">
            <!-- Contact Form -->
            <div>
                <h2 class="text-3xl font-bold text-gray-800 mb-6">Send Us a Message</h2>
                <p class="text-gray-600 mb-8">
                    Fill out the form below and our team will get back to you within 24 hours with a detailed response.
                </p>
                
                <form id="contact-form" class="space-y-6">
                    <div class="grid grid-cols-1 md:grid-cols-2 gap-6">
                        <div>
                            <label for="name" class="block text-sm font-medium text-gray-700 mb-2">Full Name*</label>
                            <input type="text" id="name" name="name" required
                                   class="w-full px-4 py-3 border border-gray-300 rounded-lg focus:ring-2 focus:ring-qubix-blue focus:border-transparent">
                        </div>
                        <div>
                            <label for="email" class="block text-sm font-medium text-gray-700 mb-2">Email Address*</label>
                            <input type="email" id="email" name="email" required
                                   class="w-full px-4 py-3 border border-gray-300 rounded-lg focus:ring-2 focus:ring-qubix-blue focus:border-transparent">
                        </div>
                    </div>
                    
                    <div class="grid grid-cols-1 md:grid-cols-2 gap-6">
                        <div>
                            <label for="phone" class="block text-sm font-medium text-gray-700 mb-2">Phone Number</label>
                            <input type="tel" id="phone" name="phone"
                                   class="w-full px-4 py-3 border border-gray-300 rounded-lg focus:ring-2 focus:ring-qubix-blue focus:border-transparent">
                        </div>
                        <div>
                            <label for="company" class="block text-sm font-medium text-gray-700 mb-2">Company/Organization</label>
                            <input type="text" id="company" name="company"
                                   class="w-full px-4 py-3 border border-gray-300 rounded-lg focus:ring-2 focus:ring-qubix-blue focus:border-transparent">
                        </div>
                    </div>
                    
                    <div class="grid grid-cols-1 md:grid-cols-2 gap-6">
                        <div>
                            <label for="event_type" class="block text-sm font-medium text-gray-700 mb-2">Event Type</label>
                            <select id="event_type" name="event_type"
                                    class="w-full px-4 py-3 border border-gray-300 rounded-lg focus:ring-2 focus:ring-qubix-blue focus:border-transparent">
                                <option value="">Select event type</option>
                                <option value="medical_conference">Medical Conference</option>
                                <option value="corporate_event">Corporate Event</option>
                                <option value="virtual_conference">Virtual Conference</option>
                                <option value="themed_event">Themed Event</option>
                                <option value="audio_visual">Audio Visual Setup</option>
                                <option value="other">Other</option>
                            </select>
                        </div>
                        <div>
                            <label for="event_date" class="block text-sm font-medium text-gray-700 mb-2">Expected Event Date</label>
                            <input type="date" id="event_date" name="event_date"
                                   class="w-full px-4 py-3 border border-gray-300 rounded-lg focus:ring-2 focus:ring-qubix-blue focus:border-transparent">
                        </div>
                    </div>
                    
                    <div class="grid grid-cols-1 md:grid-cols-2 gap-6">
                        <div>
                            <label for="location" class="block text-sm font-medium text-gray-700 mb-2">Event Location</label>
                            <input type="text" id="location" name="location" placeholder="City, State"
                                   class="w-full px-4 py-3 border border-gray-300 rounded-lg focus:ring-2 focus:ring-qubix-blue focus:border-transparent">
                        </div>
                        <div>
                            <label for="expected_attendees" class="block text-sm font-medium text-gray-700 mb-2">Expected Attendees</label>
                            <select id="expected_attendees" name="expected_attendees"
                                    class="w-full px-4 py-3 border border-gray-300 rounded-lg focus:ring-2 focus:ring-qubix-blue focus:border-transparent">
                                <option value="">Select range</option>
                                <option value="1-50">1-50 guests</option>
                                <option value="51-100">51-100 guests</option>
                                <option value="101-200">101-200 guests</option>
                                <option value="201-500">201-500 guests</option>
                                <option value="500+">500+ guests</option>
                            </select>
                        </div>
                    </div>
                    
                    <div>
                        <label for="budget_range" class="block text-sm font-medium text-gray-700 mb-2">Budget Range</label>
                        <select id="budget_range" name="budget_range"
                                class="w-full px-4 py-3 border border-gray-300 rounded-lg focus:ring-2 focus:ring-qubix-blue focus:border-transparent">
                            <option value="">Select budget range</option>
                            <option value="under-1l">Under ₹1 Lakh</option>
                            <option value="1l-5l">₹1-5 Lakhs</option>
                            <option value="5l-10l">₹5-10 Lakhs</option>
                            <option value="10l-25l">₹10-25 Lakhs</option>
                            <option value="25l+">₹25 Lakhs+</option>
                        </select>
                    </div>
                    
                    <div>
                        <label for="message" class="block text-sm font-medium text-gray-700 mb-2">Message/Requirements*</label>
                        <textarea id="message" name="message" rows="5" required
                                  placeholder="Please describe your event requirements, goals, and any specific needs..."
                                  class="w-full px-4 py-3 border border-gray-300 rounded-lg focus:ring-2 focus:ring-qubix-blue focus:border-transparent"></textarea>
                    </div>
                    
                    <div class="flex items-center">
                        <input type="checkbox" id="newsletter" name="newsletter" 
                               class="h-4 w-4 text-qubix-blue focus:ring-qubix-blue border-gray-300 rounded">
                        <label for="newsletter" class="ml-2 block text-sm text-gray-700">
                            Subscribe to our newsletter for event planning tips and updates
                        </label>
                    </div>
                    
                    <div>
                        <button type="submit" 
                                class="w-full bg-qubix-blue text-white py-3 px-6 rounded-lg font-semibold hover:bg-qubix-dark transition-colors">
                            Send Message
                        </button>
                    </div>
                </form>
            </div>
            
            <!-- Contact Information -->
            <div>
                <h2 class="text-3xl font-bold text-gray-800 mb-6">Get in Touch</h2>
                <p class="text-gray-600 mb-8">
                    We're here to help you create exceptional events. Reach out to us through any of the channels below.
                </p>
                
                <!-- Office Locations -->
                <div class="space-y-8">
                    {% for address in addresses %}
                    <div class="bg-gray-50 rounded-lg p-6">
                        <h3 class="text-xl font-bold text-gray-800 mb-2">{{ address.city }} {{ address.type }}</h3>
                        <div class="space-y-3">
                            <p class="flex items-start">
                                <i class="fas fa-map-marker-alt text-qubix-blue mt-1 mr-3"></i>
                                <span class="text-gray-600">{{ address.address }}</span>
                            </p>
                            {% if loop.index == 1 %}
                            <p class="flex items-center">
                                <i class="fas fa-phone text-qubix-blue mr-3"></i>
                                <a href="tel:{{ phone_numbers[1] }}" class="text-gray-600 hover:text-qubix-blue">{{ phone_numbers[1] }}</a>
                            </p>
                            {% elif loop.index == 2 %}
                            <p class="flex items-center">
                                <i class="fas fa-phone text-qubix-blue mr-3"></i>
                                <a href="tel:{{ phone_numbers[0] }}" class="text-gray-600 hover:text-qubix-blue">{{ phone_numbers[0] }}</a>
                            </p>
                            {% elif loop.index == 3 %}
                            <p class="flex items-center">
                                <i class="fas fa-phone text-qubix-blue mr-3"></i>
                                <a href="tel:{{ phone_numbers[2] }}" class="text-gray-600 hover:text-qubix-blue">{{ phone_numbers[2] }}</a>
                            </p>
                            {% endif %}
                            <p class="flex items-center">
                                <i class="fas fa-envelope text-qubix-blue mr-3"></i>
                                <a href="mailto:{{ contact_email }}" class="text-gray-600 hover:text-qubix-blue">{{ contact_email }}</a>
                            </p>
                        </div>
                    </div>
                    {% endfor %}
                </div>
                
                <!-- Business Hours -->
                <div class="bg-qubix-blue text-white rounded-lg p-6 mt-8">
                    <h3 class="text-xl font-bold mb-4">Business Hours</h3>
                    <div class="space-y-2">
                        <p><span class="font-semibold">Monday - Friday:</span> 9:00 AM - 7:00 PM</p>
                        <p><span class="font-semibold">Saturday:</span> 10:00 AM - 5:00 PM</p>
                        <p><span class="font-semibold">Sunday:</span> Closed</p>
                        <p class="text-sm text-gray-200 mt-4">
                            For urgent inquiries outside business hours, please call our 24/7 hotline: +91-98993-39005
                        </p>
                    </div>
                </div>
            </div>
        </div>
    </div>
</section>

<!-- Section 3: FAQ Section -->
<section class="py-16 bg-gray-50">
    <div class="container mx-auto px-4">
        <div class="max-w-4xl mx-auto">
            <h2 class="text-3xl font-bold text-center text-gray-800 mb-12">Frequently Asked Questions</h2>
            
            <div class="space-y-6">
                <!-- FAQ 1 -->
                <div class="bg-white rounded-lg shadow-md">
                    <button class="w-full text-left p-6 focus:outline-none" onclick="toggleFaq(1)">
                        <div class="flex items-center justify-between">
                            <h3 class="text-lg font-semibold text-gray-800">How far in advance should I book your services?</h3>
                            <i class="fas fa-chevron-down text-qubix-blue transform transition-transform" id="faq-icon-1"></i>
                        </div>
                    </button>
                    <div class="hidden p-6 pt-0" id="faq-content-1">
                        <p class="text-gray-600">
                            We recommend booking our services at least 2-3 months in advance for optimal planning and venue availability. 
                            However, we can accommodate shorter timelines based on availability and event requirements.
                        </p>
                    </div>
                </div>
                
                <!-- FAQ 2 -->
                <div class="bg-white rounded-lg shadow-md">
                    <button class="w-full text-left p-6 focus:outline-none" onclick="toggleFaq(2)">
                        <div class="flex items-center justify-between">
                            <h3 class="text-lg font-semibold text-gray-800">Do you provide services outside Delhi, Kolkata, and Bangalore?</h3>
                            <i class="fas fa-chevron-down text-qubix-blue transform transition-transform" id="faq-icon-2"></i>
                        </div>
                    </button>
                    <div class="hidden p-6 pt-0" id="faq-content-2">
                        <p class="text-gray-600">
                            Yes, we provide event management services across India. While our offices are in Delhi, Kolkata, and Bangalore, 
                            our team can travel to any location to ensure your event's success.
                        </p>
                    </div>
                </div>
                
                <!-- FAQ 3 -->
                <div class="bg-white rounded-lg shadow-md">
                    <button class="w-full text-left p-6 focus:outline-none" onclick="toggleFaq(3)">
                        <div class="flex items-center justify-between">
                            <h3 class="text-lg font-semibold text-gray-800">What is included in your event management packages?</h3>
                            <i class="fas fa-chevron-down text-qubix-blue transform transition-transform" id="faq-icon-3"></i>
                        </div>
                    </button>
                    <div class="hidden p-6 pt-0" id="faq-content-3">
                        <p class="text-gray-600">
                            Our packages vary by service type but typically include venue coordination, audio-visual equipment, 
                            staging, lighting, registration management, and on-site coordination. Each package is customized 
                            based on your specific requirements.
                        </p>
                    </div>
                </div>
                
                <!-- FAQ 4 -->
                <div class="bg-white rounded-lg shadow-md">
                    <button class="w-full text-left p-6 focus:outline-none" onclick="toggleFaq(4)">
                        <div class="flex items-center justify-between">
                            <h3 class="text-lg font-semibold text-gray-800">Can you handle both virtual and hybrid events?</h3>
                            <i class="fas fa-chevron-down text-qubix-blue transform transition-transform" id="faq-icon-4"></i>
                        </div>
                    </button>
                    <div class="hidden p-6 pt-0" id="faq-content-4">
                        <p class="text-gray-600">
                            Absolutely! We specialize in virtual conferences and hybrid events. Our platform supports live streaming, 
                            interactive features, virtual networking, and seamless integration of in-person and online attendees.
                        </p>
                    </div>
                </div>
                
                <!-- FAQ 5 -->
                <div class="bg-white rounded-lg shadow-md">
                    <button class="w-full text-left p-6 focus:outline-none" onclick="toggleFaq(5)">
                        <div class="flex items-center justify-between">
                            <h3 class="text-lg font-semibold text-gray-800">What are your payment terms?</h3>
                            <i class="fas fa-chevron-down text-qubix-blue transform transition-transform" id="faq-icon-5"></i>
                        </div>
                    </button>
                    <div class="hidden p-6 pt-0" id="faq-content-5">
                        <p class="text-gray-600">
                            We typically require 30% advance payment upon contract signing, 40% before event setup, 
                            and 30% upon completion. Payment terms can be customized based on event size and requirements.
                        </p>
                    </div>
                </div>
            </div>
        </div>
    </div>
</section>

<!-- Section 4: Map -->
<section class="py-16 bg-white">
    <div class="container mx-auto px-4">
        <h2 class="text-3xl font-bold text-center text-gray-800 mb-12">Our Locations</h2>
        <div class="bg-gray-200 rounded-lg h-96 flex items-center justify-center">
            <!-- Placeholder for interactive map -->
            <div class="text-center">
                <i class="fas fa-map-marked-alt text-6xl text-qubix-blue mb-4"></i>
                <p class="text-gray-600">Interactive map showing our office locations</p>
                <p class="text-sm text-gray-500">Delhi | Kolkata | Bangalore</p>
            </div>
        </div>
    </div>
</section>

<!-- Section 5: Call to Action -->
<section class="py-16 bg-qubix-blue text-white">
    <div class="container mx-auto px-4">
        <div class="max-w-4xl mx-auto text-center">
            <h2 class="text-3xl md:text-4xl font-bold mb-6">Ready to Plan Your Event?</h2>
            <p class="text-xl text-gray-100 mb-8">
                Don't wait! Contact us today and let's start planning your perfect event together.
            </p>
            <div class="flex flex-col sm:flex-row justify-center space-y-4 sm:space-y-0 sm:space-x-6">
                <a href="tel:+919899339005" class="bg-white text-qubix-blue px-8 py-3 rounded-lg font-semibold hover:bg-gray-100 transition-colors">
                    Call Now: +91-98993-39005
                </a>
                <a href="mailto:{{ contact_email }}" class="border-2 border-white text-white px-8 py-3 rounded-lg font-semibold hover:bg-white hover:text-qubix-blue transition-colors">
                    Send Email
                </a>
            </div>
        </div>
    </div>
</section>
{% endblock %}

{% block scripts %}
<script>
// FAQ Toggle Function
function toggleFaq(id) {
    const content = document.getElementById(`faq-content-${id}`);
    const icon = document.getElementById(`faq-icon-${id}`);
    
    if (content.classList.contains('hidden')) {
        content.classList.remove('hidden');
        icon.style.transform = 'rotate(180deg)';
    } else {
        content.classList.add('hidden');
        icon.style.transform = 'rotate(0deg)';
    }
}

// Contact Form Handler
document.getElementById('contact-form').addEventListener('submit', async function(e) {
    e.preventDefault();
    
    const form = e.target;
    const submitBtn = form.querySelector('button[type="submit"]');
    const originalText = submitBtn.textContent;
    
    // Show loading state
    submitBtn.disabled = true;
    submitBtn.innerHTML = '<span class="loading"></span> Sending Message...';
    
    try {
        const formData = new FormData(form);
        const data = Object.fromEntries(formData.entries());
        
        const response = await fetch('/api/contact', {
            method: 'POST',
            headers: {
                'Content-Type': 'application/json'
            },
            body: JSON.stringify(data)
        });
        
        const result = await response.json();
        
        if (result.success) {
            // Show success message
            showNotification('Thank you for your message! We\'ll get back to you within 24 hours.', 'success');
            form.reset();
        } else {
            throw new Error(result.detail || 'Failed to send message');
        }
    } catch (error) {
        console.error('Contact form error:', error);
        showNotification('Sorry, there was an error sending your message. Please try again or call us directly.', 'error');
    } finally {
        // Reset button state
        submitBtn.disabled = false;
        submitBtn.textContent = originalText;
    }
});

// Show notification function (defined in main.js)
function showNotification(message, type = 'info') {
    // Remove existing notifications
    const existingNotifications = document.querySelectorAll('.notification');
    existingNotifications.forEach(n => n.remove());
    
    // Create notification element
    const notification = document.createElement('div');
    notification.className = `notification fixed top-4 right-4 max-w-md p-4 rounded-lg shadow-lg z-50 transform transition-all duration-300 translate-x-full`;
    
    // Set colors based on type
    switch (type) {
        case 'success':
            notification.classList.add('bg-green-500', 'text-white');
            break;
        case 'error':
            notification.classList.add('bg-red-500', 'text-white');
            break;
        case 'warning':
            notification.classList.add('bg-yellow-500', 'text-white');
            break;
        default:
            notification.classList.add('bg-blue-500', 'text-white');
    }
    
    notification.innerHTML = `
        <div class="flex items-center justify-between">
            <p class="flex-1 mr-3">${message}</p>
            <button onclick="this.parentElement.parentElement.remove()" class="text-white hover:text-gray-200">
                <i class="fas fa-times"></i>
            </button>
        </div>
    `;
    
    document.body.appendChild(notification);
    
    // Animate in
    setTimeout(() => {
        notification.classList.remove('translate-x-full');
    }, 10);
    
    // Auto remove after 5 seconds
    setTimeout(() => {
        notification.classList.add('translate-x-full');
        setTimeout(() => notification.remove(), 300);
    }, 5000);
}
</script>
{% endblock %}